<!DOCTYPE html>
<html>
	<head>
		<title>Platform game</title>
		
		<meta charset="utf8" />
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
		
		<script src="jquery-2.1.3.min.js"></script>
		<script src="compat.js"></script>
		<script src="math.js"></script>
		<script src="graphics.js"></script>
		<script src="game.js"></script>		
		<script src="input.js"></script>		
		<script src="player.js"></script>
		<script src="level.js"></script>
				
		<style>
			#game-canvas {
				border: 1px solid gray;
				width: 768px;
			}

			#game-canvas {
				display: none;
			}
			
			#level-error {
				display: none;
			}
		</style>
	</head>

	<body>
		<div class="container">
			<div class="panel panel-primary" id="loading-screen">
				<div class="panel-heading">
					Loading
				</div>
				<div class="panel-body">
					Pre-loading game content, please wait.
				</div>
			</div>

			<div class="panel panel-primary" id="level-error">
				<div class="panel-heading">
					Could not load level
				</div>
				<div class="panel-body">
					Unable to load the specified level
				</div>
			</div>
		</div>

		
		<div class="container">
			<canvas id="game-canvas" class="center-block"></canvas>
		</div>

		<script>
			var server = "http://www.ivarclemens.nl/platform_game/";
		
			(function() {
				var game = new Game("game-canvas", 32 * 24, 32 * 9);

				game.spriteManager = new SpriteManager();
				
				var level = new Level();
				level.loadLevel("level1").then(function(response) {
					$("#loading-screen").hide();			
					game.addObject("level", level);
					game.addObject("player", new Player());
					
					$("#game-canvas").show();
				}, function(error) {
					$("#loading-screen").hide();
					$("#level-error").show();
				});
			}());
		</script>
		
		<p class="text-center">
			<small>Using graphics by <a href="http://www.kenney.nl">Kenney</a> and creek23</small>
		</p>
	</body>
</html>